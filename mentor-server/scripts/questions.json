[
  {
    "_id": "6863e74505ecd3ea1bca38d4",
    "id": 5,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים, הדרגות שלהם, שעות הטיסה שלהם וההתמחות שלהם במיון יורד לפי שעות טיסה.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "WHERE",
      "ORDER BY"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.pilot_name, T1.rank, T1.flight_hours, T2.mission_type FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id ORDER BY T1.flight_hours DESC; -- Assumes pilot's specialization is the mission_type of their squadron.",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:40:38.125Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:40:35.387Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.771Z",
    "last_updated": "2025-07-24T15:47:58.305Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38ed",
    "id": 30,
    "question": "הציגו את שמות הבסיסים שהפער בניסיון בין הטייס המנוסה ביותר לטייס הצעיר ביותר עולה על 15 שנים ובנוסף, הצג את עלות כלי הנשק שיש ברשותם בהינתן שהוא מעל 1,000,000 (מיליון) שקל.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING",
      "MAX",
      "MIN",
      "SUM"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.base_name, SUM(T3.cost_per_unit * T3.stock_quantity) AS total_weapon_cost FROM AirBases AS T1 JOIN Squadrons AS T2 ON T1.base_id = T2.base_id JOIN Weapons AS T3 ON T1.base_id = T3.storage_base_id WHERE T1.base_id IN (SELECT T2.base_id FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id GROUP BY T2.base_id HAVING MAX(T1.experience_years) - MIN(T1.experience_years) > 15) GROUP BY T1.base_name HAVING SUM(T3.cost_per_unit * T3.stock_quantity) > 1000;",
    "points": 10,
    "approved": true,
    "approvedAt": "2025-07-10T06:04:30.330Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-10T06:04:21.563Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.330Z",
    "last_updated": "2025-07-24T15:47:58.671Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38d1",
    "id": 2,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסות שהמשכורת הממוצעת של הטייסים שלהן גבוהה מ-20,000 ש״ח ויש בהן מעל 5 טייסים.",
    "expected_keywords": [
      "SELECT",
      "AVG",
      "COUNT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T2.squadron_name FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id GROUP BY T2.squadron_name HAVING AVG(T1.salary) > 20000 AND COUNT(T1.pilot_id) > 5;",
    "points": 8,
    "approved": true,
    "approvedAt": "2025-07-08T17:37:04.839Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:36:58.449Z",
    "difficultyUpdatedAt": "2025-07-04T10:08:32.219Z",
    "difficultyUpdatedBy": "automated_script",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.647Z",
    "last_updated": "2025-07-24T15:47:58.185Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38d6",
    "id": 7,
    "question": "כתוב שאילתה שמחזירה את כמות כלי הנשק היקרים (עלות מעל 500 אלפי ש״ח) בחלוקה לפי כל סוג נשק כאשר הכמות תוצג בעמודה עם הכותרת weapons_count.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "WHERE",
      "GROUP BY"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT weapon_type, COUNT(weapon_id) AS weapons_count FROM Weapons WHERE cost_per_unit > 500 GROUP BY weapon_type;",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:42:45.013Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:42:42.618Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.832Z",
    "last_updated": "2025-07-24T15:47:58.365Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38d0",
    "id": 1,
    "question": "כתוב שאילתה שמחזירה את כלי הטיס שיוצרו אחרי שנת 2010, עם המהירות המרבית והטווח שלהם, ממוינים לפי מהירות מרבית בסדר יורד.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "WHERE",
      "ORDER BY"
    ],
    "difficulty": "easy",
    "solution_example": "can not answer -- The 'Aircraft' table does not have columns for 'maximum speed' or 'range'.",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:35:54.981Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:35:49.068Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.579Z",
    "last_updated": "2025-07-24T15:47:58.125Z"
  },
  {
    "_id": "686f7ee90e95670402bb95f9",
    "id": 45,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים, הדרגות שלהם ושמות הטייסות שלהן, עבור טייסים בדרגת 'רב טוראי' ומעלה (קרי, עבור הדרגות: רב טוראי, סמל‫,‬ סמ״ר‫,‬  סג״מ, סגן, סרן, רב סרן, סא\"ל)",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "IN"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.pilot_name, T1.rank, T2.squadron_name FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id WHERE T1.rank IN ('רב טוראי', 'סמל', 'סמ״ר', 'סג״מ', 'סגן', 'סרן', 'רב סרן', 'סא\"ל');",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:34:14.894Z",
    "approvedAt": "2025-07-12T15:34:17.234Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.408Z",
    "last_updated": "2025-07-24T15:47:59.098Z"
  },
  {
    "_id": "686f7ee90e95670402bb95fb",
    "id": 47,
    "question": "כתוב שאילתה שמחזירה את כלי הטיס מסוג F-16I ו-F-35I ואת שמות הטייסות המפעילות אותם, רק במקרים ששם הטייסת מכיל את האותיות i ו-e בסדר כלשהו.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "IN"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.aircraft_type, T2.squadron_name FROM Aircraft AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id WHERE T1.aircraft_type IN ('F-16I', 'F-35I') AND T2.squadron_name LIKE '%i%' AND T2.squadron_name LIKE '%e%';",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:38:41.645Z",
    "approvedAt": "2025-07-12T15:38:44.239Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.643Z",
    "last_updated": "2025-07-24T15:45:21.402Z"
  },
  {
    "_id": "686f7ee90e95670402bb95fd",
    "id": 49,
    "question": "כתוב שאילתה שמחזירה את הבסיסים עם יותר מ-2 מסלולים ואת כמות הטייסות הפעילות בכל אחד מהם, בתוצאה יש להציג את שם הבסיס, מספר המסלולים שבו וכמות הטייסות הפעילות בו תחת שם הכותרת squadron_count.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.base_name, T1.runways_count, COUNT(T2.squadron_id) AS squadron_count FROM AirBases AS T1 JOIN Squadrons AS T2 ON T1.base_id = T2.base_id WHERE T1.runways_count > 2 AND T2.active_pilots > 0 GROUP BY T1.base_id, T1.base_name, T1.runways_count; -- Assumes an active squadron is one with active_pilots > 0.",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:46:56.955Z",
    "approvedAt": "2025-07-12T15:47:00.667Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.535Z",
    "last_updated": "2025-07-24T15:47:59.277Z"
  },
  {
    "_id": "686f7ee90e95670402bb9604",
    "id": 56,
    "question": "כתוב שאילתה שמחזירה את מספר הטייסים הפעילים בכל בסיס (יש להציג גם את שם הבסיס בתוצאה) כולל בסיסים ללא טייסים.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "LEFT JOIN",
      "GROUP BY"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.base_name, SUM(T2.active_pilots) AS total_active_pilots FROM AirBases AS T1 LEFT JOIN Squadrons AS T2 ON T1.base_id = T2.base_id GROUP BY T1.base_name;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:56:04.695Z",
    "approvedAt": "2025-07-12T15:56:07.992Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.708Z",
    "last_updated": "2025-07-24T15:47:59.458Z"
  },
  {
    "_id": "686f7ee90e95670402bb960b",
    "id": 63,
    "question": "כתוב שאילתה שמחזירה עבור כלל הבסיסים, את שם הבסיס, כמות הטייסות בבסיס ואת שעות הטיסה הכוללות של כל כלי הטיס בבסיס.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "SUM",
      "FROM",
      "JOIN",
      "GROUP BY"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.base_name, COUNT(DISTINCT T2.squadron_id) as squadron_count, SUM(T3.flight_hours_total) as total_flight_hours FROM AirBases AS T1 LEFT JOIN Squadrons AS T2 ON T1.base_id = T2.base_id LEFT JOIN Aircraft AS T3 ON T2.squadron_id = T3.squadron_id GROUP BY T1.base_name;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:27:54.574Z",
    "approvedAt": "2025-07-13T17:27:57.059Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.735Z",
    "last_updated": "2025-07-24T15:45:22.078Z"
  },
  {
    "_id": "686f7ee90e95670402bb9610",
    "id": 68,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסות שמבצעות יותר משימות מהממוצע והציגו גם את מספר המשימות הפעילות שלהן כרגע.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.squadron_name, SUM(CASE WHEN T2.mission_status = 'פעילה' THEN 1 ELSE 0 END) as active_missions FROM Squadrons AS T1 JOIN Missions AS T2 ON T1.squadron_id = T2.squadron_id GROUP BY T1.squadron_name HAVING COUNT(T2.mission_id) > (SELECT AVG(mission_count) FROM (SELECT COUNT(mission_id) AS mission_count FROM Missions GROUP BY squadron_id)); -- Assumes active status is 'פעילה'.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:35:05.808Z",
    "approvedAt": "2025-07-13T17:35:10.418Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:39:00.166Z",
    "last_updated": "2025-07-24T15:47:59.939Z"
  },
  {
    "_id": "686f7ee90e95670402bb9611",
    "id": 69,
    "question": "כתוב שאילתה שמציגה את שמות כלי הנשק שהכמות במלאי שלהם נמוכה מהממוצע לסוג הנשק שלהם, בתוצאה יש להציג את 3 העמודות הנ\"ל וזאת רק עבור המקרים ששם הנשק בנוי ממילה אחת בלבד.",
    "expected_keywords": [
      "SELECT",
      "AVG",
      "FROM",
      "JOIN",
      "WHERE"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.weapon_name, T1.weapon_type, T1.stock_quantity FROM Weapons AS T1 JOIN (SELECT weapon_type, AVG(stock_quantity) AS avg_quantity FROM Weapons GROUP BY weapon_type) AS T2 ON T1.weapon_type = T2.weapon_type WHERE T1.stock_quantity < T2.avg_quantity AND T1.weapon_name NOT LIKE '% %';",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:37:10.404Z",
    "approvedAt": "2025-07-13T17:37:44.880Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.861Z",
    "last_updated": "2025-07-24T15:45:22.408Z"
  },
  {
    "_id": "686f7ee90e95670402bb9612",
    "id": 70,
    "question": "כתוב שאילתה שמחזירה עבור כל טייסת ועבור כל טייס את הטייסים שמשרתים בטייסות שבהן יותר מ-3 סוגי כלי טיס שונים.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "DISTINCT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T2.squadron_name, T1.pilot_name FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id WHERE T1.squadron_id IN (SELECT squadron_id FROM Aircraft GROUP BY squadron_id HAVING COUNT(DISTINCT aircraft_type) > 3);",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:47:16.493Z",
    "approvedAt": "2025-07-13T17:47:22.147Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.923Z",
    "last_updated": "2025-07-24T15:47:59.999Z"
  },
  {
    "_id": "687543e024f22c25cbe30484",
    "id": 130,
    "question": "כתבו ביטוי באלגברת יחסים שמחזיר את שם כלי הנשק שמשתמשים בהם בכל הבסיסים בצפון הארץ וטווחם מעל 50 ק\"מ.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "÷",
      "Weapons",
      "AirBases"
    ],
    "difficulty": "algebra",
    "solution_example": "Π weapon_name ( (σ range_km>50 (Weapons)) ÷ Π base_id (σ location='צפון' (AirBases)) )",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T04:03:39.667Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.907Z",
    "last_updated": "2025-07-24T15:48:00.906Z"
  },
  {
    "_id": "687543e024f22c25cbe30476",
    "id": 116,
    "question": "כתבו ביטוי באלגברת יחסים המחזיר את קוד מזהי כלי הטיס שעברו תחזוקה במחצית השנייה של שנת 2023.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "Aircraft",
      "Maintenance"
    ],
    "difficulty": "algebra",
    "solution_example": "Π aircraft_id (σ start_date >= '2023-07-01' AND start_date <= '2023-12-31' (Maintenance))",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T03:57:42.948Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.658Z",
    "last_updated": "2025-07-24T15:48:00.609Z"
  },
  {
    "_id": "687543e024f22c25cbe30475",
    "id": 115,
    "question": "כתבו ביטוי באלגברת יחסים שמחזיר את שמות הטייסות מבסיס \"תל נוף\" שמתמחות בתובלה או חילוץ.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "Squadrons",
      "AirBases"
    ],
    "difficulty": "algebra",
    "solution_example": "Π squadron_name ( (σ base_name='תל נוף' (AirBases)) ⋈ (σ mission_type='תובלה' OR mission_type='חילוץ' (Squadrons)) )",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T03:56:54.237Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.593Z",
    "last_updated": "2025-07-24T15:48:00.548Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38e7",
    "id": 24,
    "question": "הצג את פרטי הנשק בעל הטווח הקצר ביותר מכל בסיס, רק עבור בסיסים עם יותר מ-3 מסלולי נחיתה.",
    "expected_keywords": [
      "SELECT",
      "MIN",
      "FROM",
      "JOIN",
      "WHERE",
      "IN",
      "GROUP BY"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.* FROM Weapons AS T1 JOIN AirBases AS T2 ON T1.storage_base_id = T2.base_id WHERE T2.runways_count > 3 AND T1.range_km = (SELECT MIN(T3.range_km) FROM Weapons AS T3 WHERE T3.storage_base_id = T1.storage_base_id);",
    "points": 8,
    "approved": true,
    "approvedAt": "2025-07-09T09:15:12.833Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-09T05:50:15.979Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.203Z",
    "last_updated": "2025-07-24T15:47:58.550Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38d2",
    "id": 3,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים שמשרתים בבסיס 'RMD' ומשכורתם מעל 17,000 ש״ח.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "WHERE",
      "AND"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T3.pilot_name FROM AirBases AS T1 JOIN Squadrons AS T2 ON T1.base_id = T2.base_id JOIN Pilots AS T3 ON T2.squadron_id = T3.squadron_id WHERE T1.base_code = 'RMD' AND T3.salary > 17000;",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:39:35.111Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "difficultyUpdatedAt": "2025-07-04T10:08:32.285Z",
    "difficultyUpdatedBy": "automated_script",
    "updatedAt": "2025-07-08T17:37:55.874Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.709Z",
    "last_updated": "2025-07-24T15:47:58.245Z"
  },
  {
    "_id": "686f7ee90e95670402bb95f7",
    "id": 43,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסות ואת שמות הבסיסים שלהן שמתמחות במשימות מסוג 'קרב אוויר' או 'סיוע קרוב'. עליכם להציג את התוצאה בעמוד אחת שבה שני הטקסטים משורשרים עם רווח ביניהם",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "OR"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.squadron_name || ' ' || T2.base_name FROM Squadrons AS T1 JOIN AirBases AS T2 ON T1.base_id = T2.base_id WHERE T1.mission_type = 'קרב אוויר' OR T1.mission_type = 'סיוע קרוב';",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:32:32.728Z",
    "approvedAt": "2025-07-12T15:32:40.222Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.346Z",
    "last_updated": "2025-07-24T15:47:59.039Z"
  },
  {
    "_id": "686f7ee90e95670402bb95fa",
    "id": 46,
    "question": "כתוב שאילתה שמחזירה את רק את שמות המשימות הפעילות ואת שמות הטייסים המבצעים שלהן, ממוינות לפי תאריך התחלה, כאשר בתוצאה יוצג גם תאריך ההתחלה אבל רק עבור משימות שחודש ההתחלה שלהם הוא אי זוגי.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "ORDER BY"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.mission_name, T2.pilot_name, T1.start_date FROM Missions AS T1 JOIN Pilots AS T2 ON T1.pilot_id = T2.pilot_id WHERE T1.mission_status = 'פעילה' AND (CAST(strftime('%m', T1.start_date) AS INTEGER) % 2) != 0 ORDER BY T1.start_date; -- Assumed active status is 'פעילה'.",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:36:15.272Z",
    "approvedAt": "2025-07-12T15:36:17.982Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.583Z",
    "last_updated": "2025-07-24T15:47:59.157Z"
  },
  {
    "_id": "686f7ee90e95670402bb960c",
    "id": 64,
    "question": "כתוב שאילתה שמציגה את סוגי כלי הטיס שמופעלים ביותר מטייסת אחת ואת מספר הטייסות המפעילות כל סוג כלי טיס כזה כך שיוצגו כלי טיס שמופעלים בלפחות 3 טייסות שונות.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "DISTINCT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT aircraft_type, COUNT(DISTINCT squadron_id) AS operating_squadrons_count FROM Aircraft WHERE squadron_id IS NOT NULL GROUP BY aircraft_type HAVING COUNT(DISTINCT squadron_id) >= 3;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:29:17.541Z",
    "approvedAt": "2025-07-13T17:29:19.996Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.798Z",
    "last_updated": "2025-07-24T15:47:59.756Z"
  },
  {
    "_id": "68753ed07b644926d9bbc6ec",
    "id": 104,
    "question": "כתוב ביטוי באלגברת יחסים שמחזיר את שמות כלי הנשק המאוחסנים בבסיסים שבהם משרתים טייסים עם מעל 3000 שעות טיסה ורמת סיווג 8 ומעלה.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "Weapons",
      "AirBases",
      "Pilots"
    ],
    "difficulty": "algebra",
    "solution_example": "can not answer -- The 'Pilots' table does not have a 'classification_level' column.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:30:55.914Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-14T17:40:15.550Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.471Z",
    "last_updated": "2025-07-24T15:48:00.484Z"
  },
  {
    "_id": "68753ed07b644926d9bbc6ee",
    "id": 106,
    "question": "כתוב ביטוי באלגברת יחסים שמחזיר את שמות המשימות שבוצעו על ידי טייסים בדרגת רס\"ן או סא\"ל, במטוסי F-35I, מבסיסים באזור הדרום, עם אחוז הצלחה מעל 85%.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "Missions",
      "Pilots",
      "Aircraft",
      "Squadrons",
      "AirBases"
    ],
    "difficulty": "algebra",
    "solution_example": "can not answer -- The 'Missions' table does not have a 'success_rate' column.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:30:55.914Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-14T17:42:16.849Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.532Z",
    "last_updated": "2025-07-24T15:45:23.084Z"
  },
  {
    "_id": "687543e024f22c25cbe30481",
    "id": 127,
    "question": "כתבו ביטוי באלגברת יחסים שמחזיר את שמות הטייסות שכל הטייסים שלהן בעלי רמת סיווג 6 ומעלה ומרוויחים משכורת של מעל 20,000 ש\"ח.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "÷",
      "Squadrons",
      "Pilots"
    ],
    "difficulty": "algebra",
    "solution_example": "can not answer -- The 'Pilots' table does not have a 'classification_level' column.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T04:02:37.125Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.844Z",
    "last_updated": "2025-07-24T15:48:00.843Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38d8",
    "id": 9,
    "question": "כתוב שאילתה שמחזירה את כלי הטיס שיוצרו בין השנים 2010-2020, עם המהירות המרבית והטווח שלהם, ממוינים בסדר יורד לפי מהירות מרבית.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "WHERE",
      "ORDER BY"
    ],
    "difficulty": "easy",
    "solution_example": "can not answer -- The 'Aircraft' table does not have columns for 'maximum speed' or 'range'.",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:44:31.638Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:44:29.312Z",
    "difficultyUpdatedAt": "2025-07-04T10:08:31.734Z",
    "difficultyUpdatedBy": "automated_script",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:57.956Z",
    "last_updated": "2025-07-24T15:45:20.535Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38da",
    "id": 11,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים ושמות הטייסות שלהם, כאשר יוצגו כל שמות הטייסים גם אם הם משוייכים לטייסת וגם אם לא. ",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "ON"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.pilot_name, T2.squadron_name FROM Pilots AS T1 LEFT JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id;",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:45:50.871Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:45:41.806Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.018Z",
    "last_updated": "2025-07-24T15:47:58.425Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38ea",
    "id": 27,
    "question": "עליכם למצאו את רשימת הנשקים שמאוחסנים ביותר מבסיס אחד ועלות של כל כלי נשק כזה היא לפחות 75,000 שקל, בתוצאה יש להציג את שם הנשק ומחירו.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY",
      "HAVING",
      "COUNT"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT weapon_name, cost_per_unit FROM Weapons WHERE cost_per_unit * 1000 >= 75000 GROUP BY weapon_name, cost_per_unit HAVING COUNT(DISTINCT storage_base_id) > 1;",
    "points": 8,
    "approved": true,
    "approvedAt": "2025-07-10T06:12:00.838Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-10T06:11:57.427Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.269Z",
    "last_updated": "2025-07-24T15:47:58.611Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38ef",
    "id": 32,
    "question": "מצאו את הטייסים עם יותר מ-1,500 שעות טיסה שמשכורתם מתחת לממוצע הדרגה של הטייס, בתוצאה ליד שם הטייס יש להציג את כמות השעות שלו, המשכורת והדרגה שלו.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY",
      "HAVING",
      "COUNT"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.pilot_name, T1.flight_hours, T1.salary, T1.rank FROM Pilots AS T1 JOIN (SELECT rank, AVG(salary) AS avg_salary FROM Pilots GROUP BY rank) AS T2 ON T1.rank = T2.rank WHERE T1.flight_hours > 1500 AND T1.salary < T2.avg_salary;",
    "points": 10,
    "approved": true,
    "approvedAt": "2025-07-10T06:09:41.895Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-10T06:09:35.364Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.395Z",
    "last_updated": "2025-07-24T15:47:58.733Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38f7",
    "id": 40,
    "question": "הציג את המידע הקיים על כל כלי טיס שיוצר אחרי שנת 2005 ועדיין לא עברו תחזוקה גדולה.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY",
      "HAVING",
      "COUNT"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT * FROM Aircraft WHERE manufacture_year > 2005 AND aircraft_id NOT IN (SELECT aircraft_id FROM Maintenance WHERE maintenance_type = 'גדולה'); -- Assumed 'major maintenance' in Hebrew is 'תחזוקה גדולה' and the value in the maintenance_type column is 'גדולה'.",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-10T06:29:12.745Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-10T06:29:08.951Z",
    "difficultyUpdatedAt": "2025-07-04T10:08:32.484Z",
    "difficultyUpdatedBy": "automated_script",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.515Z",
    "last_updated": "2025-07-24T15:47:58.853Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38df",
    "id": 16,
    "question": "כתוב שאילתה שמחזירה את כלי הטיס ואת שמות הטייסות שלהן, כולל כלי טיס שאין להם טייסת.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "LEFT JOIN",
      "ON"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.tail_number, T2.squadron_name FROM Aircraft AS T1 LEFT JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id;",
    "points": 6,
    "approved": true,
    "approvedAt": "2025-07-08T17:47:44.135Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-08T17:47:37.622Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.141Z",
    "last_updated": "2025-07-24T15:47:58.487Z"
  },
  {
    "_id": "686f7ee90e95670402bb95f6",
    "id": 42,
    "question": "כתוב שאילתה שמחזירה את כמות כלי הטיס בכל טייסת (יש לוודא שלא מפספסים שום טייסת), ממוינת לפי כמות בסדר יורד וזאת רק עבור טייסות עם לפחות 3 כלי טייס שונים בטייסת.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "GROUP BY",
      "ORDER BY"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.squadron_name, COUNT(T2.aircraft_id) AS aircraft_count FROM Squadrons AS T1 LEFT JOIN Aircraft AS T2 ON T1.squadron_id = T2.squadron_id GROUP BY T1.squadron_name HAVING COUNT(DISTINCT T2.aircraft_id) >= 3 ORDER BY aircraft_count DESC;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:30:57.432Z",
    "approvedAt": "2025-07-12T15:31:02.132Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.282Z",
    "last_updated": "2025-07-24T15:47:58.980Z"
  },
  {
    "_id": "686f7ee90e95670402bb95fc",
    "id": 48,
    "question": "כתוב שאילתה שמחזירה את מספר המשימות שבוצעו על ידי כל טייס, רק עבור טייסים שביצעו לפחות שתי משימות, יש לוודא ששם הטייס אינו רייק.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T1.pilot_name, COUNT(T2.mission_id) AS mission_count FROM Pilots AS T1 JOIN Missions AS T2 ON T1.pilot_id = T2.pilot_id WHERE T1.pilot_name IS NOT NULL AND T1.pilot_name != '' GROUP BY T1.pilot_id, T1.pilot_name HAVING COUNT(T2.mission_id) >= 2;",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:40:26.149Z",
    "approvedAt": "2025-07-12T15:40:28.588Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.472Z",
    "last_updated": "2025-07-24T15:47:59.218Z"
  },
  {
    "_id": "686f7ee90e95670402bb9607",
    "id": 59,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסות שהמשכורת הממוצעת של הטייסים שלהן גבוהה מהממוצע הכללי של המשכורות של כל הטייסים.",
    "expected_keywords": [
      "SELECT",
      "AVG",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T2.squadron_name FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id GROUP BY T2.squadron_name HAVING AVG(T1.salary) > (SELECT AVG(salary) FROM Pilots);",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T16:02:06.592Z",
    "approvedAt": "2025-07-12T16:02:09.058Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.962Z",
    "last_updated": "2025-07-24T15:47:59.574Z"
  },
  {
    "_id": "686f7ee90e95670402bb960e",
    "id": 66,
    "question": "כתוב שאילתה שמחזירה את העלות הממוצעת לשעת טיסה של כל סוג כלי טיס (עלות תחזוקה חלקי שעות טיסה), עליכם לקחת בחשבון רק מקרים שאין בהם חלוקה ב-אפס.",
    "expected_keywords": [
      "SELECT",
      "AVG",
      "SUM",
      "FROM",
      "JOIN",
      "GROUP BY"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.aircraft_type, SUM(T2.cost) / SUM(T1.flight_hours_total) as avg_cost_per_flight_hour FROM Aircraft AS T1 JOIN Maintenance AS T2 ON T1.aircraft_id = T2.aircraft_id WHERE T1.flight_hours_total > 0 GROUP BY T1.aircraft_type;",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:31:32.097Z",
    "approvedAt": "2025-07-13T17:31:34.517Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.094Z",
    "last_updated": "2025-07-24T15:47:59.816Z"
  },
  {
    "_id": "686f7ee90e95670402bb9614",
    "id": 72,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים, דרגתם והמשכורת שלהם רק עבור מקרים בהם משכורתם גבוהה מכל שאר הטייסים שנמצאים בדרגה הנמוכה מהם בטייסת שלהם.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "WHERE",
      "NOT EXISTS",
      "subquery"
    ],
    "difficulty": "hard",
    "solution_example": "WITH RankHierarchy AS (SELECT pilot_name, rank, salary, squadron_id, CASE rank WHEN 'טוראי' THEN 1 WHEN 'רב טוראי' THEN 2 WHEN 'סמל' THEN 3 WHEN 'סמ\"ר' THEN 4 WHEN 'סג\"מ' THEN 5 WHEN 'סגן' THEN 6 WHEN 'סרן' THEN 7 WHEN 'רב סרן' THEN 8 WHEN 'סא\"ל' THEN 9 ELSE 0 END AS rank_level FROM Pilots) SELECT rh1.pilot_name, rh1.rank, rh1.salary FROM RankHierarchy rh1 WHERE rh1.salary > (SELECT MAX(rh2.salary) FROM RankHierarchy rh2 WHERE rh1.squadron_id = rh2.squadron_id AND rh2.rank_level < rh1.rank_level); -- Assumes a rank hierarchy which is implemented using a CASE statement.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:40:33.789Z",
    "approvedAt": "2025-07-13T17:40:36.362Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.220Z",
    "last_updated": "2025-07-24T15:48:00.124Z"
  },
  {
    "_id": "686f7ee90e95670402bb961d",
    "id": 81,
    "question": "כתוב שאילתה שמציגה את שמות הבסיסים שיש בהם לפחות אחד מכל סוגי כלי הנשק השונים הקיימים במערכת.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "DISTINCT",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.base_name FROM AirBases AS T1 JOIN Weapons AS T2 ON T1.base_id = T2.storage_base_id GROUP BY T1.base_name HAVING COUNT(DISTINCT T2.weapon_type) = (SELECT COUNT(DISTINCT weapon_type) FROM Weapons);",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:44:21.241Z",
    "approvedAt": "2025-07-13T17:44:24.862Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:39:00.043Z",
    "last_updated": "2025-07-24T15:48:00.245Z"
  },
  {
    "_id": "6874bfd1545e9443ff366e52",
    "id": 87,
    "question": "כתוב ביטוי באלגברת יחסים שמחזיר את כל הטייסים פרט לאלה שמשרתים בבסיס 'נבטים'.",
    "expected_keywords": [
      "-",
      "σ",
      "base_name",
      "Pilots",
      "AirBases"
    ],
    "difficulty": "algebra",
    "solution_example": "Π pilot_name, rank, experience_years, flight_hours (Pilots) - Π pilot_name, rank, experience_years, flight_hours (Pilots ⋈ squadron_id=squadron_id (Squadrons ⋈ base_id=base_id (σ base_name='נבטים' (AirBases))))",
    "points": 10,
    "createdAt": "2025-07-14T08:29:05.086Z",
    "approved": true,
    "approvedAt": "2025-07-14T13:02:32.464Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.290Z",
    "last_updated": "2025-07-24T15:48:00.306Z"
  },
  {
    "_id": "68753ed07b644926d9bbc6eb",
    "id": 103,
    "question": "כתוב ביטוי באלגברת יחסים שמחזיר את שמות הטייסות שמבצעות משימות קרב ותקיפה, אך לא משימות סיור (בתשובה עליכם להשתמש באחת מהפעולות הבאות: הפרש, חיתוך, איחוד).",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "∩",
      "-",
      "Squadrons",
      "Missions"
    ],
    "difficulty": "algebra",
    "solution_example": "(Π squadron_name ( (σ mission_type='קרב' (Missions)) ⋈ Squadrons)) ∩ (Π squadron_name ( (σ mission_type='תקיפה' (Missions)) ⋈ Squadrons)) - (Π squadron_name ( (σ mission_type='סיור' (Missions)) ⋈ Squadrons))",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:30:55.914Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-14T17:39:37.035Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.412Z",
    "last_updated": "2025-07-24T15:48:00.425Z"
  },
  {
    "_id": "687543e024f22c25cbe3047d",
    "id": 123,
    "question": "כתבו ביטוי באלגברת יחסים המחזיר את שמות הטייסות שמבצעות הן משימות קרב והן משימות ביון, אך לא משימות תובלה (בתשובתכם עליכם להשתמש לפחות באחת מהפעולות הבאות: איחוד, חיתוך, הפרש).",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "∩",
      "-",
      "Squadrons",
      "Missions"
    ],
    "difficulty": "algebra",
    "solution_example": "((Π squadron_name ( (σ mission_type='קרב' (Missions)) ⋈ Squadrons)) ∩ (Π squadron_name ( (σ mission_type='ביון' (Missions)) ⋈ Squadrons))) - (Π squadron_name ( (σ mission_type='תובלה' (Missions)) ⋈ Squadrons))",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T03:59:50.920Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.721Z",
    "last_updated": "2025-07-24T15:48:00.669Z"
  },
  {
    "_id": "6863e74505ecd3ea1bca38f2",
    "id": 35,
    "question": "בשאלה זו עליכם לחשב ולהציג את היעילות התפעולית של כל אחת מהטייסות, תחשיב היעילות מבוצע לפי יחס כמות המשימות שהושלמו מול העלויות שכר בפועל. בתוצאה יש להציג את שם הטייסת וליידה את יחס היעילות עם כותרת בשם efficiency.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "LEFT JOIN",
      "GROUP BY",
      "COUNT",
      "SUM",
      "ROUND"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T1.squadron_name, ROUND(CAST(COUNT(T2.mission_id) AS REAL) / SUM(T3.salary), 4) as efficiency FROM Squadrons AS T1 LEFT JOIN Missions AS T2 ON T1.squadron_id = T2.squadron_id AND T2.mission_status = 'הושלמה' LEFT JOIN Pilots AS T3 ON T1.squadron_id = T3.squadron_id WHERE T3.salary > 0 GROUP BY T1.squadron_name; -- Assumes mission status 'הושלמה' for completed.",
    "points": 10,
    "approved": true,
    "approvedAt": "2025-07-10T06:25:19.981Z",
    "createdAt": "2025-07-01T13:48:53.982Z",
    "updatedAt": "2025-07-10T06:25:17.280Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.457Z",
    "last_updated": "2025-07-24T15:47:58.793Z"
  },
  {
    "_id": "686f7ee90e95670402bb95f5",
    "id": 41,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים ושמות הבסיסים שלהם, רק עבור טייסים עם כמות שעות טיסה השווה למספר שיוצא ממכפלת החודש הנוכחי כפול היום בחודש כפול 10 (לדוגמא עבור התאריך 03-11-2025 נבצע מכפלה של 11 (החודש בשנה) כפול 3 (היום בחודש) כפול 10 ונקבל את המספר 330).",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "AND"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T3.pilot_name, T1.base_name FROM AirBases AS T1 JOIN Squadrons AS T2 ON T1.base_id = T2.base_id JOIN Pilots AS T3 ON T2.squadron_id = T3.squadron_id WHERE T3.flight_hours = (CAST(strftime('%m', 'now') AS INTEGER) * CAST(strftime('%d', 'now') AS INTEGER) * 10);",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:28:39.537Z",
    "approvedAt": "2025-07-12T15:28:44.977Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.833Z",
    "last_updated": "2025-07-24T15:47:58.913Z"
  },
  {
    "_id": "686f7ee90e95670402bb9601",
    "id": 53,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים עם יותר מ-3 שנות ניסיון ואת הערך הכולל של המשכורות שלהם לכל טייסת.",
    "expected_keywords": [
      "SELECT",
      "SUM",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT T2.squadron_name, SUM(T1.salary) AS total_salary_of_experienced_pilots FROM Pilots AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id WHERE T1.experience_years > 3 GROUP BY T2.squadron_name;",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:50:32.733Z",
    "approvedAt": "2025-07-12T15:50:35.255Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:39:00.105Z",
    "last_updated": "2025-07-24T15:47:59.338Z"
  },
  {
    "_id": "686f7ee90e95670402bb9603",
    "id": 55,
    "question": "כתוב שאילתה שמחזירה את כלי הטיס שיוצרו לאחר 2015 ואת שמות הטייסות והבסיסים המפעילים אותם. עליכם להשתמש לפחות בתת-שאילתא אחת בפתרון",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.tail_number, T2.squadron_name, T3.base_name FROM Aircraft AS T1 JOIN Squadrons AS T2 ON T1.squadron_id = T2.squadron_id JOIN AirBases AS T3 ON T2.base_id = T3.base_id WHERE T1.aircraft_id IN (SELECT aircraft_id FROM Aircraft WHERE manufacture_year > 2015);",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T15:54:10.843Z",
    "approvedAt": "2025-07-12T15:54:13.618Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.897Z",
    "last_updated": "2025-07-24T15:47:59.398Z"
  },
  {
    "_id": "686f7ee90e95670402bb9606",
    "id": 58,
    "question": "כתוב שאילתה שמחזירה את המשימות שהתבצעו בין השנים 2021 ל 2023 (כולל הקצוות) ובשנים הזוגיות בטווח השנים 2000-2012 (לא כולל הקצוות) ואת פרטי הטייסים והכלי טיס המעורבים.",
    "expected_keywords": [
      "SELECT",
      "FROM",
      "JOIN",
      "WHERE",
      "YEAR"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.*, T2.*, T3.* FROM Missions AS T1 JOIN Pilots AS T2 ON T1.pilot_id = T2.pilot_id JOIN Aircraft AS T3 ON T1.aircraft_id = T3.aircraft_id WHERE (CAST(strftime('%Y', T1.start_date) AS INTEGER) BETWEEN 2021 AND 2023) OR (CAST(strftime('%Y', T1.start_date) AS INTEGER) > 2000 AND CAST(strftime('%Y', T1.start_date) AS INTEGER) < 2012 AND CAST(strftime('%Y', T1.start_date) AS INTEGER) % 2 = 0);",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T16:00:58.661Z",
    "approvedAt": "2025-07-12T16:01:09.660Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.612Z",
    "last_updated": "2025-07-24T15:47:59.516Z"
  },
  {
    "_id": "686f7ee90e95670402bb9608",
    "id": 60,
    "question": "כתוב שאילתה שמחזירה את שמות הבסיסים שיש בהם יותר מ-5 סוגי כלי נשק שונים ואת הערך הכולל של כל הנשק המאוחסן שם (ערך סוג כלי נשק נקבע כמכפלת המחיר שלו בכמות הנשקים מסוג זה הקיימים במלאי).",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "DISTINCT",
      "SUM",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T1.base_name, SUM(T2.cost_per_unit * T2.stock_quantity) as total_weapon_value FROM AirBases AS T1 JOIN Weapons AS T2 ON T1.base_id = T2.storage_base_id GROUP BY T1.base_name HAVING COUNT(DISTINCT T2.weapon_type) > 5;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-12T16:03:53.852Z",
    "approvedAt": "2025-07-12T16:03:59.674Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.027Z",
    "last_updated": "2025-07-24T15:47:59.634Z"
  },
  {
    "_id": "686f7ee90e95670402bb9609",
    "id": 61,
    "question": "כתוב שאילתה שמציגה את כלי הטיס שעברו תחזוקה יותר מפעמיים בשנה הנוכחית, עליכם להציג בנוסף לכלי הטיס את כמות הפעמים שבוצעה תחזוקה לכלי הטיס ואת העלות הכוללת של התחזוקה שלהם.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "SUM",
      "FROM",
      "JOIN",
      "WHERE",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "medium",
    "solution_example": "SELECT T2.tail_number, COUNT(T1.maintenance_id) AS maintenance_count, SUM(T1.cost) AS total_cost FROM Maintenance AS T1 JOIN Aircraft AS T2 ON T1.aircraft_id = T2.aircraft_id WHERE strftime('%Y', T1.start_date) = strftime('%Y', 'now') GROUP BY T2.tail_number HAVING COUNT(T1.maintenance_id) > 2;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:24:20.802Z",
    "approvedAt": "2025-07-13T17:24:24.284Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:58.771Z",
    "last_updated": "2025-07-24T15:47:59.695Z"
  },
  {
    "_id": "686f7ee90e95670402bb960a",
    "id": 62,
    "question": "כתוב שאילתה שמחזירה את שמות הטייסים המרוויחים יותר מהממוצע בטייסת שלהם, בתוצאה מלבד שם הטייס, עליכם להציג את השכר של הטייס ואת ההפרש מהמשכורת הממוצעת של הטייסת.",
    "expected_keywords": [
      "SELECT",
      "AVG",
      "FROM",
      "JOIN",
      "WHERE"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT p.pilot_name, p.salary, (p.salary - s_avg.squadron_avg_salary) AS salary_difference FROM Pilots AS p JOIN (SELECT squadron_id, AVG(salary) AS squadron_avg_salary FROM Pilots GROUP BY squadron_id) AS s_avg ON p.squadron_id = s_avg.squadron_id WHERE p.salary > s_avg.squadron_avg_salary;",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:26:26.559Z",
    "approvedAt": "2025-07-13T17:26:32.192Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.673Z",
    "last_updated": "2025-07-24T15:45:22.016Z"
  },
  {
    "_id": "686f7ee90e95670402bb960f",
    "id": 67,
    "question": "כתוב שאילתה שמציגה את שמות הבסיסים שיש בהם גם טייסים וגם כלי נשק, ואת יחס עלות הנשק למול משכורות הטייסים (על ידי סכימת עלות יחידה כפול היחידות במלאי) חלקי סך המשכורות בבסיס.",
    "expected_keywords": [
      "SELECT",
      "SUM",
      "FROM",
      "JOIN",
      "GROUP BY"
    ],
    "difficulty": "medium",
    "solution_example": "WITH BaseSalaries AS (SELECT T2.base_id, SUM(T3.salary) as total_salary FROM Squadrons AS T2 JOIN Pilots AS T3 ON T2.squadron_id = T3.squadron_id GROUP BY T2.base_id), BaseWeaponValue AS (SELECT storage_base_id, SUM(cost_per_unit * stock_quantity) as total_weapon_value FROM Weapons GROUP BY storage_base_id) SELECT T1.base_name, CAST(T3.total_weapon_value AS REAL) / T2.total_salary as ratio FROM AirBases AS T1 JOIN BaseSalaries AS T2 ON T1.base_id = T2.base_id JOIN BaseWeaponValue AS T3 ON T1.base_id = T3.storage_base_id;",
    "points": 8,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:33:45.397Z",
    "approvedAt": "2025-07-13T17:33:48.222Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.157Z",
    "last_updated": "2025-07-24T15:47:59.877Z"
  },
  {
    "_id": "686f7ee90e95670402bb9613",
    "id": 71,
    "question": "כתוב שאילתה שמציגה את שמות המשימות שהושלמו ושמשך הביצוע שלהן (מתחילה לסיום) עולה על 30 ימים, בתוצאה יש להציג גם את משך הימים של המשימה.",
    "expected_keywords": [
      "SELECT",
      "DATEDIFF",
      "FROM",
      "WHERE"
    ],
    "difficulty": "easy",
    "solution_example": "SELECT mission_name, JULIANDAY(end_date) - JULIANDAY(start_date) as mission_duration_days FROM Missions WHERE mission_status = 'הושלמה' AND (JULIANDAY(end_date) - JULIANDAY(start_date)) > 30; -- Assumes 'completed' status is 'הושלמה' and 'Maintenance' table's end_date refers to mission end date.",
    "points": 6,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:39:09.883Z",
    "approvedAt": "2025-07-13T17:39:12.602Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:38:59.983Z",
    "last_updated": "2025-07-24T15:48:00.063Z"
  },
  {
    "_id": "686f7ee90e95670402bb9617",
    "id": 75,
    "question": "כתוב שאילתה שמחזירה את שם כלי הטיס שעברו תחזוקה בכל החודשים בשנה הנוכחית ואת העלות הממוצעת החודשית שלהם.",
    "expected_keywords": [
      "SELECT",
      "COUNT",
      "DISTINCT",
      "AVG",
      "FROM",
      "JOIN",
      "GROUP BY",
      "HAVING"
    ],
    "difficulty": "hard",
    "solution_example": "SELECT T2.tail_number, AVG(T1.cost) as avg_monthly_cost FROM Maintenance AS T1 JOIN Aircraft AS T2 ON T1.aircraft_id = T2.aircraft_id WHERE strftime('%Y', T1.start_date) = strftime('%Y', 'now') GROUP BY T2.tail_number HAVING COUNT(DISTINCT strftime('%m', T1.start_date)) = 12;",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-10T08:50:47.038Z",
    "updatedAt": "2025-07-13T17:41:53.251Z",
    "approvedAt": "2025-07-13T17:41:55.522Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:39:00.228Z",
    "last_updated": "2025-07-24T15:48:00.185Z"
  },
  {
    "_id": "6874bfd1545e9443ff366e5b",
    "id": 96,
    "question": "כתוב ביטוי באלגברה יחסים שמציג את כל שמות המשימות שבוצעו על ידי טייסות קרב מבסיס 'עובדה', כולל שמות הטייסות שהשתתפו ותאריכי המשימות בהם לקחו חלק.",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "mission_type",
      "base_name",
      "Missions",
      "Squadrons",
      "AirBases"
    ],
    "difficulty": "medium",
    "solution_example": "Π mission_name, squadron_name, start_date ( (σ base_name='עובדה' (AirBases)) ⋈ (σ mission_type='קרב' (Squadrons)) ⋈ Missions )",
    "points": 8,
    "createdAt": "2025-07-14T08:29:05.920Z",
    "approved": true,
    "approvedAt": "2025-07-14T13:00:46.761Z",
    "updatedAt": "2025-07-14T13:00:43.629Z",
    "approvedBy": "r_admin@gmail.com",
    "pointsUpdatedAt": "2025-07-15T08:39:00.351Z",
    "last_updated": "2025-07-24T15:48:00.365Z"
  },
  {
    "_id": "687543e024f22c25cbe30480",
    "id": 126,
    "question": "כתבו ביטוי באלגברת יחסים המחזיר את שמות המשימות שבוצעו על ידי טייסים (יש להציג גם את שמות הטייסים) עם מעל 15 שנות ניסיון במטוסים (יש להציג את סוג המטוס) שעלותם לשעה בודדת היא מעל 30 אלף ש\"ח, בבסיסים שהוקמו לפני 1960 (עליכם לפתור את השאלה בצורה הכי יעילה שאפשר).",
    "expected_keywords": [
      "π",
      "σ",
      "⋈",
      "Missions",
      "Pilots",
      "Aircraft",
      "Squadrons",
      "AirBases"
    ],
    "difficulty": "algebra",
    "solution_example": "can not answer -- The 'Aircraft' table does not have a 'cost_per_hour' column.",
    "points": 10,
    "approved": true,
    "createdAt": "2025-07-14T17:52:30.883Z",
    "updatedAt": "2025-07-15T05:26:07.849Z",
    "approvedAt": "2025-07-15T04:01:29.753Z",
    "approvedBy": "r_admin@gmail.com",
    "difficultyUpdatedAt": "2025-07-15T05:26:07.856Z",
    "difficultyUpdatedBy": "algebra_classification_by_content",
    "pointsUpdatedAt": "2025-07-15T08:39:00.782Z",
    "last_updated": "2025-07-24T15:48:00.731Z"
  }
]